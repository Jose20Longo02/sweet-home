<%
  const baseUrl = (typeof canonicalUrl !== 'undefined' && canonicalUrl) 
    ? canonicalUrl.replace(/\/$/, '') 
    : ((typeof baseUrl !== 'undefined' && baseUrl) ? baseUrl : (process.env.APP_URL || 'https://sweethome.com')).replace(/\/$/, '');
  const siteName = 'Sweet Home';
  const defaultDescription = 'Find your dream property in Cyprus, Dubai, and Berlin. Browse luxury apartments, villas, and real estate investments. Expert guidance for buyers and sellers.';
  const pageMetaDescription = (typeof pageMetaDescription !== 'undefined' && pageMetaDescription) ? pageMetaDescription : defaultDescription;
%>
<meta name="description" content="<%= pageMetaDescription %>">
<!-- Canonical URL is handled by main layout to avoid conflicts with hreflang -->

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:title" content="<%= (typeof title !== 'undefined' && title) ? title + ' | Sweet Home' : 'International Real Estate Investment Company | Sweet Home' %>">
<meta property="og:description" content="<%= pageMetaDescription %>">
<meta property="og:url" content="<%= (typeof canonicalUrl !== 'undefined' && canonicalUrl) ? canonicalUrl : baseUrl + '/' %>">
<meta property="og:image" content="<%= baseUrl %>/images/dubai-hero.jpg">
<meta property="og:site_name" content="<%= siteName %>">
<meta property="og:locale" content="en_US">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="<%= (typeof title !== 'undefined' && title) ? title + ' | Sweet Home' : 'International Real Estate Investment Company | Sweet Home' %>">
<meta name="twitter:description" content="<%= pageMetaDescription %>">
<meta name="twitter:image" content="<%= baseUrl %>/images/dubai-hero.jpg">

<!-- JSON-LD Structured Data -->
<script type="application/ld+json"><%- (typeof minifyJSON !== 'undefined' ? minifyJSON({
  '@context': 'https://schema.org',
  '@type': 'Organization',
  name: siteName,
  url: baseUrl,
  logo: `${baseUrl}/images/Sweet Home Logo.png`,
  sameAs: [],
  contactPoint: {
    '@type': 'ContactPoint',
    contactType: 'Customer Service',
    availableLanguage: ['English', 'Spanish', 'German']
  }
}) : JSON.stringify({
  '@context': 'https://schema.org',
  '@type': 'Organization',
  name: siteName,
  url: baseUrl,
  logo: `${baseUrl}/images/Sweet Home Logo.png`,
  sameAs: [],
  contactPoint: {
    '@type': 'ContactPoint',
    contactType: 'Customer Service',
    availableLanguage: ['English', 'Spanish', 'German']
  }
})) %></script>
<script type="application/ld+json"><%- (typeof minifyJSON !== 'undefined' ? minifyJSON({
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  name: siteName,
  url: baseUrl,
  potentialAction: {
    '@type': 'SearchAction',
    target: {
      '@type': 'EntryPoint',
      urlTemplate: `${baseUrl}/properties?q={search_term_string}`
    },
    'query-input': 'required name=search_term_string'
  }
}) : JSON.stringify({
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  name: siteName,
  url: baseUrl,
  potentialAction: {
    '@type': 'SearchAction',
    target: {
      '@type': 'EntryPoint',
      urlTemplate: `${baseUrl}/properties?q={search_term_string}`
    },
    'query-input': 'required name=search_term_string'
  }
})) %></script>

