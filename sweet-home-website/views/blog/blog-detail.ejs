<% if (typeof title === 'undefined' || !title) { title = post.title; } headPartial = '../partials/seo/blog-detail-head'; %>
<link rel="stylesheet" href="/css/blog.css" />
<article class="container main blog-detail">
  <div class="blog-detail-grid">
    <aside class="blog-recommended">
      <h3><%= t('blog.detail.recent','Recent articles') %></h3>
      <% if ((recommendedPosts || []).length === 0) { %>
        <p class="empty"><%= t('blog.detail.noRecent','No recent posts.') %></p>
      <% } else { %>
        <ul class="rec-list">
          <% recommendedPosts.forEach(r => { %>
            <li>
              <a class="rec-item" href="/blog/<%= r.slug %>">
                <% if (r.cover_image) { %>
                  <img src="<%= r.cover_image %>" alt="<%= r.title %>" />
                <% } %>
                <div class="rec-info">
                  <span class="rec-title"><%= r.title %></span>
                  <% if (r.author_name) { %>
                    <span class="rec-meta"><%= t('blog.publishedBy','Published by') %> <%= r.author_name %></span>
                  <% } %>
                  <span class="rec-cta"><%= t('blog.read','Read article') %> â†’</span>
                </div>
              </a>
            </li>
          <% }) %>
        </ul>
      <% } %>
    </aside>
    <div class="blog-article">
      <header>
        <h1><%= post.title %></h1>
        <% if (post.author_name) { %>
          <p class="meta"><%= t('blog.by','By') %> <%= post.author_name %></p>
        <% } %>
        <% if (post.cover_image) { %>
          <img src="<%= post.cover_image %>" alt="<%= post.title %>" class="cover" />
        <% } %>
      </header>
      <section class="content">
        <%- post.content %>
      </section>
    </div>
  </div>
</article>

