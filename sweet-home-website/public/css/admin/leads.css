@import url('../variables.css');

.admin-page { padding: 16px; }

.np-header { display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex-wrap:wrap; }
.np-header .left h1 { margin: 0 0 4px 0; font-size: 24px; }
.np-header .subtitle { margin: 0; color: var(--gray-600); font-size: 14px; }

.card { background: #fff; border: 1px solid var(--gray-200); border-radius: 10px; padding: 16px; }

.filters-grid { display: grid; grid-template-columns: repeat(6, minmax(0, 1fr)); gap: 12px; }
.filters-grid input, .filters-grid select { width: 100%; padding: 10px 12px; border: 1px solid var(--gray-300); border-radius: 8px; font-size: 14px; }
.filters-grid .btn { height: 42px; }

.table-responsive { width: 100%; overflow: auto; }
.table { width: 100%; border-collapse: separate; border-spacing: 0 10px; }
.table th, .table td { text-align: left; padding: 12px 14px; vertical-align: top; }
.table thead th { color: var(--gray-700); font-weight: 600; font-size: 13px; border-bottom: 1px solid var(--gray-200); }
.table tbody tr { background: #fff; border: 1px solid var(--gray-200); border-radius: 10px; }
.table tbody tr + tr { margin-top: 8px; }

.table tbody tr td:first-child { border-top-left-radius: 10px; border-bottom-left-radius: 10px; }
.table tbody tr td:last-child { border-top-right-radius: 10px; border-bottom-right-radius: 10px; }

.table .lead-status { padding: 8px 10px; border: 1px solid var(--gray-300); border-radius: 8px; font-size: 13px; }
.table .lead-last-contact { padding: 8px 10px; border: 1px solid var(--gray-300); border-radius: 8px; font-size: 13px; }

.notes-row td { background: #fafafa; border: 1px dashed var(--gray-300); border-radius: 8px; }
.lead-notes { width: 100%; padding: 10px 12px; border: 1px solid var(--gray-300); border-radius: 8px; font-size: 14px; }

/* Dense info made more readable */
.table td div + div { margin-top: 4px; }
.table td strong { color: var(--gray-800); }

/* Lead Source Badges */
.source-badge {
  display: inline-block;
  padding: 4px 8px;
  background: var(--gray-100);
  color: var(--gray-700);
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.lead-source .source-badge {
  background: var(--primary-color);
  color: var(--white);
}

/* Buttons */
.btn { display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:8px; border:1px solid transparent; cursor:pointer; font-weight:600; font-size:14px; }
.btn-primary { background: var(--primary-color); color:#fff; border-color: var(--primary-color); }
.btn-primary:hover { background: var(--primary-dark); border-color: var(--primary-dark); }
.btn-primary:focus { outline: 2px solid color-mix(in srgb, var(--primary-color) 30%, white); outline-offset: 2px; }
.btn-primary:disabled { opacity: .7; cursor: not-allowed; }
.btn-light { background:#fff; color: var(--gray-800); border-color: var(--gray-300); }
.btn-light:hover { background: var(--gray-50); }

/* Modal */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display: none; align-items: center; justify-content: center; z-index: 1000; }
.modal-overlay.open { display: flex; }
.modal { background: #fff; width: 100%; max-width: 420px; border-radius: 12px; box-shadow: var(--shadow-lg, 0 20px 40px rgba(0,0,0,.2)); border: 1px solid var(--gray-200); }
.modal header { padding: 16px 18px; border-bottom: 1px solid var(--gray-200); font-weight: 700; color: var(--gray-900); }
.modal .modal-body { padding: 18px; color: var(--gray-800); }
.modal .modal-actions { padding: 14px 18px; display: flex; justify-content: flex-end; gap: 10px; border-top: 1px solid var(--gray-200); }
.btn-danger { background: var(--error-color); color: #fff; border-color: var(--error-color); }
.modal .btn-danger { background: var(--error-color) !important; color: #fff !important; border-color: var(--error-color) !important; }
.modal .btn-danger:hover { background: var(--red-700, #b91c1c) !important; border-color: var(--red-700, #b91c1c) !important; color: #fff !important; }
.modal .btn-danger:focus-visible { outline: 2px solid color-mix(in srgb, var(--error-color) 30%, white); outline-offset: 2px; }

/* Message Modal Specific Styles */
#messageModal {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  background: rgba(0,0,0,0.45) !important;
  display: none !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 9999 !important;
  margin: 0 !important;
  padding: 20px !important;
  box-sizing: border-box !important;
  flex-direction: column !important;
}

#messageModal[style*="display: flex"] {
  display: flex !important;
}

#messageModal .modal-content {
  background: #fff !important;
  width: 100% !important;
  max-width: 600px !important;
  border-radius: 12px !important;
  box-shadow: var(--shadow-lg, 0 20px 40px rgba(0,0,0,.2)) !important;
  border: 1px solid var(--gray-200) !important;
  max-height: 80vh !important;
  overflow: hidden !important;
  margin: 0 auto !important;
  position: relative !important;
  flex-shrink: 0 !important;
}

#messageModal .modal-header {
  padding: 16px 18px;
  border-bottom: 1px solid var(--gray-200);
  font-weight: 700;
  color: var(--gray-900);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#messageModal .modal-header h3 {
  margin: 0;
  font-size: 1.1rem;
}

#messageModal .modal-close {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: var(--gray-500);
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

#messageModal .modal-close:hover {
  color: var(--gray-700);
}

#messageModal .modal-body {
  padding: 18px;
  color: var(--gray-800);
  max-height: 60vh;
  overflow-y: auto;
}

/* Ensure modal positioning and overlay - override .modal class */
#messageModal.modal {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  background: rgba(0,0,0,0.45) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 9999 !important;
  margin: 0 !important;
  padding: 20px !important;
  box-sizing: border-box !important;
  flex-direction: column !important;
  transform: none !important;
}

#messageModal[style*="display: flex"] {
  display: flex !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
}

/* Responsive */
@media (max-width: 1024px) {
  .filters-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

@media (max-width: 640px) {
  .filters-grid { grid-template-columns: 1fr; }
  .np-header .left h1 { font-size: 20px; }
  .table thead { display: none; }
  .table, .table tbody, .table tr, .table td { display: block; width: 100%; }
  .table tbody tr { margin-bottom: 12px; }
  .table tbody tr td { padding: 10px 12px; border: none; }
  .table tbody tr td::before {
    content: attr(data-label);
    display: block;
    font-size: 12px;
    color: var(--gray-600);
    margin-bottom: 4px;
  }
  /* Add data-labels in markup via JS if needed; using CSS-only fallback is fine here */
}


