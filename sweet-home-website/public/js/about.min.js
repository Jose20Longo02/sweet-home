document.querySelectorAll(".marquee").forEach(e=>{const t=e.querySelector(".track");if(!t)return;if(parseInt(e.getAttribute("data-member-count"),10)<=3)return;const n=e.clientWidth;let r=Array.from(t.children).reduce((e,t)=>e+t.getBoundingClientRect().width,0);if(0===t.children.length)return;let a=0;for(;r<2*n&&a<20;)Array.from(t.children).forEach(e=>{t.appendChild(e.cloneNode(!0))}),r=Array.from(t.children).reduce((e,t)=>e+t.getBoundingClientRect().width,0),a++;const i=r/2,d=Math.max(10,i/40);t.style.animationDuration=d+"s";let o=!1;const c=()=>{t.style.animationPlayState="paused"},l=()=>{o||(t.style.animationPlayState="running")};e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",l),e.addEventListener("touchstart",()=>{o=!0,c()},{passive:!0}),e.addEventListener("touchend",()=>{o=!1,l()},{passive:!0})});