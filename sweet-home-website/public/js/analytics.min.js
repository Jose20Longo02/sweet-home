!function(){"use strict";const t="function"==typeof window.gtag;function e(t,e){window.ANALYTICS_DEBUG&&window.console&&console.log("[Analytics]",t,e)}function r(r,n){if(t)try{gtag("event",r,n||{}),e(r,n)}catch(t){console.error("[Analytics] Error tracking event:",t)}else e(r,n)}function n(r,n){if(t)try{const t=window.GA_MEASUREMENT_ID||"";t&&(gtag("config",t,{page_path:r,page_title:n}),e("page_view",{page_path:r,page_title:n}))}catch(t){console.error("[Analytics] Error tracking page view:",t)}else e("page_view",{page_path:r,page_title:n})}window.analytics={trackEvent:r,trackPropertyView:function(t,e,n,o,i){r("view_property",{property_id:String(t),property_title:e,property_price:n||null,property_location:o||null,property_type:i||null,value:n||null,currency:"EUR"})},trackPropertySearch:function(t){r("search_properties",{search_term:t.search||null,property_type:t.type||null,city:t.city||null,min_price:t.minPrice||null,max_price:t.maxPrice||null,bedrooms:t.bedrooms||null,sort_by:t.sort||null})},trackPropertyComparison:function(t,e){r("compare_property",{property_id:String(t),action:e})},trackPropertyShare:function(t,e){r("share_property",{property_id:String(t),method:e})},trackFormSubmit:function(t,e,n,o){const i={form_type:t,property_id:e?String(e):null,project_id:n?String(n):null};o&&Object.assign(i,o),r("contact_form_submit",i)},trackContactAction:function(t,e,n){r("email"===t?"email_click":"phone"===t?"phone_click":"whatsapp"===t?"whatsapp_click":"contact_action",{property_id:e?String(e):null,project_id:n?String(n):null,contact_method:t})},trackProjectView:function(t,e){r("view_project",{project_id:String(t),project_title:e})},trackFilterApplied:function(t){r("filter_properties",{filters:JSON.stringify(t)})},trackSortApplied:function(t){r("sort_properties",{sort_by:t})},trackPageView:n,trackVirtualPageView:function(t,e){n(t,e)}},t&&"complete"===document.readyState?n(window.location.pathname,document.title):t&&window.addEventListener("load",function(){n(window.location.pathname,document.title)})}();