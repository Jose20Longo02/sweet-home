!function(){"use strict";const t=document.querySelector('meta[name="ga-measurement-id"]');t&&(window.GA_MEASUREMENT_ID=t.getAttribute("content"));const e="function"==typeof window.gtag;function r(t,e){window.ANALYTICS_DEBUG&&window.console&&console.log("[Analytics]",t,e)}function n(t,n){if(e)try{gtag("event",t,n||{}),r(t,n)}catch(t){console.error("[Analytics] Error tracking event:",t)}else r(t,n)}function o(t,n){if(e)try{const e=window.GA_MEASUREMENT_ID||"";e&&(gtag("config",e,{page_path:t,page_title:n}),r("page_view",{page_path:t,page_title:n}))}catch(t){console.error("[Analytics] Error tracking page view:",t)}else r("page_view",{page_path:t,page_title:n})}window.analytics={trackEvent:n,trackPropertyView:function(t,e,r,o,i){n("view_property",{property_id:String(t),property_title:e,property_price:r||null,property_location:o||null,property_type:i||null,value:r||null,currency:"EUR"})},trackPropertySearch:function(t){n("search_properties",{search_term:t.search||null,property_type:t.type||null,city:t.city||null,min_price:t.minPrice||null,max_price:t.maxPrice||null,bedrooms:t.bedrooms||null,sort_by:t.sort||null})},trackPropertyComparison:function(t,e){n("compare_property",{property_id:String(t),action:e})},trackPropertyShare:function(t,e){n("share_property",{property_id:String(t),method:e})},trackFormSubmit:function(t,e,r,o){const i={form_type:t,property_id:e?String(e):null,project_id:r?String(r):null};o&&Object.assign(i,o),n("contact_form_submit",i)},trackContactAction:function(t,e,r){n("email"===t?"email_click":"phone"===t?"phone_click":"whatsapp"===t?"whatsapp_click":"contact_action",{property_id:e?String(e):null,project_id:r?String(r):null,contact_method:t})},trackProjectView:function(t,e){n("view_project",{project_id:String(t),project_title:e})},trackFilterApplied:function(t){n("filter_properties",{filters:JSON.stringify(t)})},trackSortApplied:function(t){n("sort_properties",{sort_by:t})},trackPageView:o,trackVirtualPageView:function(t,e){o(t,e)}},e&&"complete"===document.readyState?o(window.location.pathname,document.title):e&&window.addEventListener("load",function(){o(window.location.pathname,document.title)})}();