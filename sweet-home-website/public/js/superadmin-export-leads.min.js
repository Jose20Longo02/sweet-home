!function(){function o(){console.log("[export-leads] init start");const o=document.getElementById("exportLeadsBtn"),e=document.getElementById("exportModal"),t=document.getElementById("exportModalClose"),n=document.getElementById("exportCsvBtn"),l=document.getElementById("exportExcelBtn");function a(){const o=new URLSearchParams(window.location.search),e=new URLSearchParams;return["q","status","from","to","agentId","propertyId","projectId","leadType","leadKind"].forEach(t=>{const n=o.get(t);n&&e.set(t,n)}),e.toString()}o?e?(console.log("[export-leads] elements found"),o.addEventListener("click",function(o){console.log("[export-leads] open modal"),o.preventDefault(),o.stopPropagation(),e.parentElement!==document.body&&(document.body.appendChild(e),console.log("[export-leads] moved modal to body")),e.style.cssText="position: fixed !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; width: 100vw !important; height: 100vh !important; background: rgba(0,0,0,0.45) !important; z-index: 10000 !important; display: flex !important; align-items: center !important; justify-content: center !important; margin: 0 !important; padding: 20px !important; box-sizing: border-box !important; visibility: visible !important; opacity: 1 !important;",e.classList.add("show"),console.log("[export-leads] modal display:",e.style.display),console.log("[export-leads] modal computed display:",window.getComputedStyle(e).display),console.log("[export-leads] modal computed position:",window.getComputedStyle(e).position),console.log("[export-leads] modal computed z-index:",window.getComputedStyle(e).zIndex),console.log("[export-leads] modal computed visibility:",window.getComputedStyle(e).visibility),console.log("[export-leads] modal computed opacity:",window.getComputedStyle(e).opacity),console.log("[export-leads] modal offsetWidth:",e.offsetWidth),console.log("[export-leads] modal offsetHeight:",e.offsetHeight),console.log("[export-leads] modal parent:",e.parentElement),console.log("[export-leads] modal getBoundingClientRect:",e.getBoundingClientRect())}),t&&t.addEventListener("click",function(o){o.preventDefault(),o.stopPropagation(),e.classList.remove("show"),e.style.display="none",console.log("[export-leads] close modal via X")}),e.addEventListener("click",function(o){o.target===e&&(e.classList.remove("show"),e.style.display="none",console.log("[export-leads] close modal via overlay"))}),n&&n.addEventListener("click",function(o){o.preventDefault(),o.stopPropagation();const t=a(),n="/superadmin/dashboard/leads/export?format=csv"+(t?"&"+t:"");window.location.href=n,e.classList.remove("show"),e.style.display="none",console.log("[export-leads] export CSV",n)}),l&&l.addEventListener("click",function(o){o.preventDefault(),o.stopPropagation();const t=a(),n="/superadmin/dashboard/leads/export?format=excel"+(t?"&"+t:"");window.location.href=n,e.classList.remove("show"),e.style.display="none",console.log("[export-leads] export Excel",n)})):console.warn("[export-leads] modal not found"):console.warn("[export-leads] button not found")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),console.log("[export-leads] script loaded")}();